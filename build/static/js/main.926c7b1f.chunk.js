(this.webpackJsonparimaa=this.webpackJsonparimaa||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(2),a=n(5),o=n(0),i=n(3),u=n.n(i),s=n(8),l=(n(14),n.p+"static/media/rabbit-g.5a4c4a45.png"),b=n.p+"static/media/cat-g.a895ead5.png",d=n.p+"static/media/wolf-g.8d1a6f9f.png",j=n.p+"static/media/horse-g.562e2558.png",f=n.p+"static/media/camel-g.4f28b9c5.png",O=n.p+"static/media/elephant-g.a7445149.png",m=n.p+"static/media/rabbit-s.89c019da.png",p=n.p+"static/media/cat-s.a0ddfe76.png",g=n.p+"static/media/wolf-s.4311b5ff.png",v=n.p+"static/media/horse-s.7c52f2eb.png",x=n.p+"static/media/camel-s.214e0078.png",h=n.p+"static/media/elephant-s.49328257.png",w=function(){var e,t="gold",n="silver",u=Object(a.a)(Array(8).keys()).map((function(){return[1]})),s=[[2],[4],[3],[6],[5],[3],[4],[2]],w=(e={},Object(r.a)(e,"1 ".concat(t),l),Object(r.a)(e,"2 ".concat(t),b),Object(r.a)(e,"3 ".concat(t),d),Object(r.a)(e,"4 ".concat(t),j),Object(r.a)(e,"5 ".concat(t),f),Object(r.a)(e,"6 ".concat(t),O),Object(r.a)(e,"1 ".concat(n),m),Object(r.a)(e,"2 ".concat(n),p),Object(r.a)(e,"3 ".concat(n),g),Object(r.a)(e,"4 ".concat(n),v),Object(r.a)(e,"5 ".concat(n),x),Object(r.a)(e,"6 ".concat(n),h),e),y=[[{playerOnTurn:t,movesLeft:4,winner:null,board:Object(a.a)(Array(8).keys()).map((function(e){switch(e){case 0:return u.map((function(e){return e.concat(n)}));case 7:return u.map((function(e){return e.concat(t)}));case 1:return s.map((function(e){return e.concat(n)}));case 6:return s.map((function(e){return e.concat(t)}));default:return Object(a.a)(Array(8).keys()).map((function(){return[null]}))}}))}]],I=Object(i.useState)(!1),N=Object(c.a)(I,2),k=N[0],S=N[1],C=Object(i.useState)([[],[]]),T=Object(c.a)(C,2),F=T[0],L=T[1],A=Object(i.useState)(0),E=Object(c.a)(A,2),G=E[0],J=E[1],M=Object(i.useState)(0),U=Object(c.a)(M,2),B=U[0],H=U[1],R=Object(i.useState)(y),W=Object(c.a)(R,2),q=W[0],z=W[1],D=q[G][B],K=D.playerOnTurn,P=D.movesLeft,Q=D.winner,V=D.board,X=Object(c.a)(F,2),Y=Object(c.a)(X[0],2),Z=Y[0],$=Y[1],_=Object(c.a)(X[1],2),ee=_[0],te=_[1],ne=K===t?n:t,ce=function(e){var t=e.rowIdx,n=e.colIdx,c=e.board;return[t>0?[[t-1,n],c[t-1][n],"top"]:void 0,t<7?[[t+1,n],c[t+1][n],"bottom"]:void 0,n>0?[[t,n-1],c[t][n-1],"left"]:void 0,n<7?[[t,n+1],c[t][n+1],"right"]:void 0].filter((function(e){return void 0!==e}))},re=function(e){var r=e.rowIdx,o=e.colIdx;return function(){var e=Object(c.a)(V[r][o],2),i=e[0],u=e[1];if(null!==i&&u===K&&(G>1||0===F[0].length))L([[r,o],[]]);else if(2===F[0].length){var s=q.map((function(e){return e.map((function(e){return Object.assign({},e)}))})),l=V.map((function(e){return Object(a.a)(e)})),b=Object(c.a)(V[Z][$],2),d=b[0],j=b[1],f=ce({rowIdx:Z,colIdx:$,board:V}),O=ce({rowIdx:ee,colIdx:te,board:V}),m=function(e){var t=e.neighbours,n=e.ownSelFigure;return t.every((function(e){var t=Object(c.a)(e,2),n=(t[0],Object(c.a)(t[1],2));return n[0],n[1]!==K}))&&t.some((function(e){var t=Object(c.a)(e,2),r=(t[0],Object(c.a)(t[1],2)),a=r[0],o=r[1];return a>n&&o===ne}))}({neighbours:f,ownSelFigure:d}),p=function(e){var r=e.neighbours,a=e.rowIdx,o=e.colIdx,i=e.ownSelFigure,u=e.ownSelOwner;return null===e.clickedCellFigure&&1===i?r=r.filter((function(e){return!("top"===e[2]&&1===i&&u===n)&&!("bottom"===e[2]&&1===i&&u===t)})):"number"===typeof ee&&"number"===typeof te&&(r=r.concat(ce({rowIdx:ee,colIdx:te,board:V}))),r.some((function(e){var t=Object(c.a)(e,2),n=Object(c.a)(t[0],2),r=n[0],u=n[1],s=Object(c.a)(t[1],2),l=s[0],b=s[1];return r===a&&u===o&&(null===l||b===ne&&l<i&&P>1)}))}({neighbours:f.concat(O),rowIdx:r,colIdx:o,ownSelFigure:d,ownSelOwner:j,clickedCellFigure:i});if(G<2&&null!==i&&u===K)return l[r][o]=V[Z][$],l[Z][$]=V[r][o],L([[],[]]),s[G]=s[G].slice(0,B+1).concat({playerOnTurn:K,movesLeft:P,winner:Q,board:l}),H(B+1),void z(s);if(G>1&&P>0&&!m&&p){if(u===ne)return void L([[Z,$],[r,o]]);var g=2===F[1].length;g?f.some((function(e){var t=Object(c.a)(e,1),n=Object(c.a)(t[0],2),a=n[0],i=n[1];return a===r&&i===o}))?(l[r][o]=V[Z][$],l[Z][$]=V[ee][te],l[ee][te]=[null],L([[r,o],[]])):(l[r][o]=V[ee][te],l[ee][te]=V[Z][$],l[Z][$]=[null],L([[ee,te],[]])):(l[r][o]=V[Z][$],l[Z][$]=[null],L([[r,o],[]])),function(e){var t=e.board,n=e.rowIdx,r=e.colIdx;[[[2,2],t[2][2][1]],[[2,5],t[2][5][1]],[[5,2],t[5][2][1]],[[5,5],t[5][5][1]]].forEach((function(e){var n=Object(c.a)(e,2),r=Object(c.a)(n[0],2),a=r[0],o=r[1],i=n[1];if(void 0===i)return!1;ce({rowIdx:a,colIdx:o,board:t}).map((function(e){return e[1][1]})).every((function(e){return e!==i}))&&(t[a][o]=[null])})),null===t[n][r][0]&&L([[],[]])}({board:l,rowIdx:r,colIdx:o});var v=null;l[0].some((function(e){var n=Object(c.a)(e,2),r=n[0],a=n[1];return 1===r&&a===t}))&&(v=t),l[7].some((function(e){var t=Object(c.a)(e,2),r=t[0],a=t[1];return 1===r&&a===n}))&&(v=n),s[G]=s[G].slice(0,B+1).concat({playerOnTurn:K,movesLeft:g?P-2:P-1,winner:v,board:l}),H(B+1),z(s)}}}},ae=function(){var e=q.map((function(e){return e.map((function(e){return Object.assign({},e)}))})),r=K===t?n:t,a=function(){for(var e=!1,r=!1,a=0;a<V.length&&(!e||!r);a++)V[a].some((function(n){var a=Object(c.a)(n,2),o=a[0],i=a[1];return 1===o&&(i===t?e=!0:r=!0,!0)}));return r?e?null:n:t}();J(G+1),H(0),L([[],[]]),z(e.slice(0,G+1).concat([[{playerOnTurn:r,movesLeft:4,winner:a,board:V}]]))},oe=function(){S(!k)},ie=function(e){return function(){J(e),H(q[e].length-1),L([[],[]])}},ue=function(e){return function(){H(e),L([[],[]])}},se=function(){window.confirm("Are you sure you want to start a new game?")&&(L([[],[]]),J(0),H(0),z(y))},le=function(){return Object(o.jsxs)("div",{className:"board-info",children:[Object(o.jsx)("div",{className:"status",children:G<2?"Rearrange figures for ".concat(K):"string"===typeof Q?"Winner is ".concat(Q.toUpperCase(),"!"):"Moves left for ".concat(K,": ").concat(P)}),Object(o.jsx)("button",{className:"end-turn",onClick:ae,disabled:G>1&&4===P||"string"===typeof Q,children:"End Turn"})]})},be=function(){return Object(o.jsx)("div",{className:"board",children:V.map((function(e,t){return Object(o.jsx)("div",{className:"row",children:e.map((function(e,n){var c="cell";return"string"===typeof e[1]&&(c+=" ".concat(e[1])),[2,5].includes(t)&&[2,5].includes(n)&&(c+=" trap"),t===Z&&n===$&&(c+=" own-selected"),t===ee&&n===te&&(c+=" enemy-selected"),Object(o.jsx)("button",{className:c,onClick:re({rowIdx:t,colIdx:n}),disabled:"string"===typeof Q,children:null!==e[0]?Object(o.jsx)("img",{src:w["".concat(e[0]," ").concat(e[1])],alt:e[0],width:"80px",height:"80px"}):null},n)}))},t)}))})},de=function(){return Object(o.jsxs)("div",{className:"current-moves",children:[Object(o.jsx)("h3",{children:"Change to a move"}),q[G].map((function(e,t){return Object(o.jsx)("button",{onClick:ue(t),children:"Go to move: ".concat(t)},t)}))]})},je=function(){return Object(o.jsxs)("div",{className:"options",children:[Object(o.jsx)("button",{className:"toggle-history",onClick:oe,children:k?"Hide history":"Show history"}),Object(o.jsx)("button",{className:"new-game",onClick:se,children:"New Game"}),k?Object(o.jsx)("ul",{children:q.map((function(e,t){var n=e[0].playerOnTurn.replace(/^./,(function(e){return e.toUpperCase()}));return Object(o.jsx)("li",{children:Object(o.jsx)("button",{onClick:ie(t),children:"".concat(n," turn: ").concat(t+1)})},t)}))}):null]})};return Object(o.jsxs)("div",{className:"game",children:[Object(o.jsxs)("div",{className:"playfield",children:[Object(o.jsx)(le,{}),Object(o.jsx)(be,{})]}),Object(o.jsxs)("div",{className:"game-info",children:[G<2?null:Object(o.jsx)(de,{}),Object(o.jsx)(je,{})]})]})};Object(s.render)(Object(o.jsx)(u.a.StrictMode,{children:Object(o.jsx)(w,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.926c7b1f.chunk.js.map