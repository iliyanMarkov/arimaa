(this.webpackJsonparimaa=this.webpackJsonparimaa||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(2),a=n(5),o=n(1),i=n(3),u=n.n(i),s=n(8),l=(n(14),n.p+"static/media/rabbit-g.5a4c4a45.png"),b=n.p+"static/media/cat-g.a895ead5.png",d=n.p+"static/media/wolf-g.8d1a6f9f.png",j=n.p+"static/media/horse-g.562e2558.png",f=n.p+"static/media/camel-g.4f28b9c5.png",O=n.p+"static/media/elephant-g.a7445149.png",p=n.p+"static/media/rabbit-s.89c019da.png",m=n.p+"static/media/cat-s.a0ddfe76.png",h=n.p+"static/media/wolf-s.4311b5ff.png",g=n.p+"static/media/horse-s.7c52f2eb.png",v=n.p+"static/media/camel-s.214e0078.png",x=n.p+"static/media/elephant-s.49328257.png",w=function(){var e,t="gold",n="silver",u=Object(a.a)(Array(8).keys()).map((function(){return[1]})),s=[[2],[4],[3],[6],[5],[3],[4],[2]],w=(e={},Object(c.a)(e,"1 ".concat(t),l),Object(c.a)(e,"2 ".concat(t),b),Object(c.a)(e,"3 ".concat(t),d),Object(c.a)(e,"4 ".concat(t),j),Object(c.a)(e,"5 ".concat(t),f),Object(c.a)(e,"6 ".concat(t),O),Object(c.a)(e,"1 ".concat(n),p),Object(c.a)(e,"2 ".concat(n),m),Object(c.a)(e,"3 ".concat(n),h),Object(c.a)(e,"4 ".concat(n),g),Object(c.a)(e,"5 ".concat(n),v),Object(c.a)(e,"6 ".concat(n),x),e),y=[[{playerOnTurn:t,movesLeft:4,winner:null,board:Object(a.a)(Array(8).keys()).map((function(e){switch(e){case 0:return u.map((function(e){return e.concat(n)}));case 7:return u.map((function(e){return e.concat(t)}));case 1:return s.map((function(e){return e.concat(n)}));case 6:return s.map((function(e){return e.concat(t)}));default:return Object(a.a)(Array(8).keys()).map((function(){return[null]}))}}))}]],I=Object(i.useState)(!0),S=Object(r.a)(I,2),N=S[0],k=S[1],C=Object(i.useState)([[],[]]),T=Object(r.a)(C,2),A=T[0],F=T[1],L=Object(i.useState)(0),B=Object(r.a)(L,2),E=B[0],G=B[1],J=Object(i.useState)(0),M=Object(r.a)(J,2),P=M[0],U=M[1],H=Object(i.useState)(y),R=Object(r.a)(H,2),W=R[0],q=R[1],z=W[E][P],D=z.playerOnTurn,K=z.movesLeft,Q=z.winner,V=z.board,X=Object(r.a)(A,2),Y=Object(r.a)(X[0],2),Z=Y[0],$=Y[1],_=Object(r.a)(X[1],2),ee=_[0],te=_[1],ne=D===t?n:t,re=function(e){var t=e.rowIdx,n=e.colIdx,r=e.board;return[t>0?[[t-1,n],r[t-1][n],"top"]:void 0,t<7?[[t+1,n],r[t+1][n],"bottom"]:void 0,n>0?[[t,n-1],r[t][n-1],"left"]:void 0,n<7?[[t,n+1],r[t][n+1],"right"]:void 0].filter((function(e){return void 0!==e}))},ce=function(e){var t=e.neighbours,n=e.ownSelFigure;return t.every((function(e){var t=Object(r.a)(e,2),n=(t[0],Object(r.a)(t[1],2));n[0];return n[1]!==D}))&&t.some((function(e){var t=Object(r.a)(e,2),c=(t[0],Object(r.a)(t[1],2)),a=c[0],o=c[1];return a>n&&o===ne}))},ae=function(e){var c=e.neighbours,a=e.ownSelFigure,o=e.ownSelOwner;return 1===a&&(c=c.filter((function(e){return!("top"===e[2]&&1===a&&o===n)&&!("bottom"===e[2]&&1===a&&o===t)}))),c.filter((function(e){var t=Object(r.a)(e,2),n=Object(r.a)(t[0],2),c=(n[0],n[1],Object(r.a)(t[1],2)),o=c[0],i=c[1];return null===o||i===ne&&o<a&&K>1}))},oe=function(e){var c=e.board;if(c[0].some((function(e){var n=Object(r.a)(e,2),c=n[0],a=n[1];return 1===c&&a===t})))return t;if(c[7].some((function(e){var t=Object(r.a)(e,2),c=t[0],a=t[1];return 1===c&&a===n})))return n;for(var a=!1,o=!1,i=[],u=0;u<c.length;u++)for(var s=0;s<c[u].length;s++){var l=Object(r.a)(c[u][s],2),b=l[0],d=l[1];null!==b&&i.push([[u,s],[b,d]]),1===b&&(d===t?a=!0:o=!0)}if(!o)return t;if(!a)return n;var j=!1,f=!1;return i.some((function(e){var n=Object(r.a)(e,2),a=Object(r.a)(n[0],2),o=a[0],i=a[1],u=Object(r.a)(n[1],2),s=u[0],l=u[1],b=re({rowIdx:o,colIdx:i,board:c}),d=b.reduce((function(e,t){var n=Object(r.a)(t,2),a=Object(r.a)(n[0],2),o=a[0],i=a[1],u=Object(r.a)(n[1],2),b=u[0],d=[t];return u[1]!==l&&b<s&&(d=d.concat(re({rowIdx:o,colIdx:i,board:c}))),e.concat(d)}),[]),O=ce({neighbours:b,ownSelFigure:s}),p=ae({neighbours:d,ownSelFigure:s,ownSelOwner:l});return!O&&p.length>0&&(l===t?j=!0:f=!0),j&&f})),f?j?null:n:t},ie=function(e){var t=e.rowIdx,n=e.colIdx;return function(){var e=Object(r.a)(V[t][n],2),c=e[0],o=e[1];if(null!==c&&o===D&&(E>1||0===A[0].length))F([[t,n],[]]);else if(2===A[0].length){var i=W.map((function(e){return e.map((function(e){return Object.assign({},e)}))})),u=V.map((function(e){return Object(a.a)(e)}));if(E<2&&null!==c&&o===D)return u[t][n]=V[Z][$],u[Z][$]=V[t][n],F([[],[]]),i[E]=i[E].slice(0,P+1).concat({playerOnTurn:D,movesLeft:K,winner:Q,board:u}),U(P+1),void q(i);var s=Object(r.a)(V[Z][$],2),l=s[0],b=s[1],d=re({rowIdx:Z,colIdx:$,board:V}),j=re({rowIdx:ee,colIdx:te,board:V}),f=ce({neighbours:d,ownSelFigure:l}),O=ae({neighbours:d.concat(j),ownSelFigure:l,ownSelOwner:b}).some((function(e){var c=Object(r.a)(e,1),a=Object(r.a)(c[0],2),o=a[0],i=a[1];return o===t&&i===n}));if(E>1&&K>0&&!f&&O){if(o===ne)return void F([[Z,$],[t,n]]);2===A[1].length?d.some((function(e){var c=Object(r.a)(e,1),a=Object(r.a)(c[0],2),o=a[0],i=a[1];return o===t&&i===n}))?(u[t][n]=V[Z][$],u[Z][$]=V[ee][te],u[ee][te]=[null],F([[t,n],[]])):(u[t][n]=V[ee][te],u[ee][te]=V[Z][$],u[Z][$]=[null],F([[ee,te],[]])):(u[t][n]=V[Z][$],u[Z][$]=[null],F([[t,n],[]])),function(e){for(var t=e.board,n=e.rowIdx,c=e.colIdx,a=[[[2,2],t[2][2][1]],[[2,5],t[2][5][1]],[[5,2],t[5][2][1]],[[5,5],t[5][5][1]]],o=function(e){var n=Object(r.a)(a[e],2),c=Object(r.a)(n[0],2),o=c[0],i=c[1],u=n[1];if("string"!==typeof u)return"continue";re({rowIdx:o,colIdx:i,board:t}).every((function(e){var t=Object(r.a)(e,2),n=(t[0],Object(r.a)(t[1],2));return n[0],n[1]!==u}))&&(t[o][i]=[null])},i=0;i<a.length;i++)o(i);null===Object(r.a)(t[n][c],1)[0]&&F([[],[]])}({board:u,rowIdx:t,colIdx:n}),i[E]=i[E].slice(0,P+1).concat({playerOnTurn:D,winner:Q,board:u,movesLeft:2===A[1].length?K-2:K-1}),U(P+1),q(i)}}}},ue=function(e){var t=e.boardA,n=e.boardB;return t.every((function(e,t){return e.every((function(e,c){var a=Object(r.a)(e,2),o=a[0],i=a[1],u=Object(r.a)(n[t][c],2),s=u[0],l=u[1];return o===s&&i===l}))}))},se=function(){var e=W.map((function(e){return e.map((function(e){return Object.assign({},e)}))})),r=D===t?n:t,c=e[E],a=e[E-2];E>1&&ue({boardA:c[0].board,boardB:c[c.length-1].board})?alert("Please make a difference to the board! The turn you made is invalid!"):E>3&&ue({boardA:a[a.length-1].board,boardB:c[c.length-1].board})?alert("Please make a different turn, than returning to the previous board state!"):(G(E+1),U(0),F([[],[]]),e[E]=e[E].slice(0,P+1),q(e.slice(0,E+1).concat([[{playerOnTurn:r,movesLeft:4,winner:oe({board:V}),board:V}]])))},le=function(){k(!N)},be=function(e){return function(){G(e),U(W[e].length-1),F([[],[]])}},de=function(e){return function(){U(e),F([[],[]])}},je=function(){window.confirm("Are you sure you want to start a new game?")&&(F([[],[]]),G(0),U(0),q(y))},fe=function(){return Object(o.jsx)("div",{className:"board-info",children:E<2?"Rearrange figures for ".concat(D):"string"===typeof Q?"Winner is ".concat(Q.toUpperCase(),"!"):"Moves left for ".concat(D,": ").concat(K)})},Oe=function(){return Object(o.jsx)("div",{className:"board",children:V.map((function(e,t){return Object(o.jsx)("div",{className:"row",children:e.map((function(e,n){var r="cell";return"string"===typeof e[1]&&(r+=" ".concat(e[1])),[2,5].includes(t)&&[2,5].includes(n)&&(r+=" trap"),t===Z&&n===$&&(r+=" own-selected"),t===ee&&n===te&&(r+=" enemy-selected"),Object(o.jsx)("button",{className:r,onClick:ie({rowIdx:t,colIdx:n}),disabled:"string"===typeof Q,children:null!==e[0]?Object(o.jsx)("img",{src:w["".concat(e[0]," ").concat(e[1])],alt:e[0],width:"80px",height:"80px"}):null},n)}))},t)}))})},pe=function(){return Object(o.jsxs)("div",{className:"options",children:[Object(o.jsx)("button",{className:"options-button",onClick:se,disabled:E>1&&4===K||"string"===typeof Q,children:"End Turn"}),Object(o.jsx)("button",{className:"options-button",onClick:le,children:N?"Hide history":"Show history"}),Object(o.jsx)("button",{className:"options-button",onClick:je,children:"New Game"})]})},me=function(){return Object(o.jsxs)("div",{className:"history-moves",children:[Object(o.jsx)("h3",{children:"Change to a move"}),W[E].map((function(e,t){return Object(o.jsx)("button",{onClick:de(t),children:"Go to move: ".concat(t)},t)}))]})},he=function(){return Object(o.jsx)(o.Fragment,{children:N?Object(o.jsxs)("div",{className:"history-turns",children:[Object(o.jsx)("h3",{children:"Change to a turn"}),Object(o.jsx)("ul",{children:W.map((function(e,t){var n=e[0].playerOnTurn.replace(/^./,(function(e){return e.toUpperCase()}));return Object(o.jsx)("li",{children:Object(o.jsx)("button",{onClick:be(t),children:"".concat(n," turn: ").concat(t+1)})},t)}))})]}):null})};return Object(o.jsxs)("div",{className:"game",children:[Object(o.jsxs)("div",{className:"playfield",children:[Object(o.jsx)(fe,{}),Object(o.jsx)(Oe,{})]}),Object(o.jsxs)("div",{className:"game-info",children:[Object(o.jsx)(pe,{}),E<2?null:Object(o.jsx)(me,{}),Object(o.jsx)(he,{})]})]})};Object(s.render)(Object(o.jsx)(u.a.StrictMode,{children:Object(o.jsx)(w,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.94378aea.chunk.js.map