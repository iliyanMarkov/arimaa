(this.webpackJsonparimaa=this.webpackJsonparimaa||[]).push([[0],{11:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r,c=n(0),o=(n(11),n(2)),a=n.n(o),i=n(8),s=n(1),u=n(3),l=n(4),b=n.p+"static/media/camel-g.4f28b9c5.png",d=n.p+"static/media/camel-s.214e0078.png",j=n.p+"static/media/cat-g.a895ead5.png",O=n.p+"static/media/cat-s.a0ddfe76.png",f=n.p+"static/media/elephant-g.a7445149.png",m=n.p+"static/media/elephant-s.49328257.png",v=n.p+"static/media/horse-g.562e2558.png",g=n.p+"static/media/horse-s.7c52f2eb.png",h=n.p+"static/media/rabbit-g.5a4c4a45.png",p=n.p+"static/media/rabbit-s.89c019da.png",y=n.p+"static/media/wolf-g.8d1a6f9f.png",x=n.p+"static/media/wolf-s.4311b5ff.png",w="gold",I="silver",C=Object(l.a)(Array(8).keys()).map((function(){return[1]})),T=[[2],[4],[3],[6],[5],[3],[4],[2]],S=(r={},Object(u.a)(r,"1 ".concat(w),h),Object(u.a)(r,"2 ".concat(w),j),Object(u.a)(r,"3 ".concat(w),y),Object(u.a)(r,"4 ".concat(w),v),Object(u.a)(r,"5 ".concat(w),b),Object(u.a)(r,"6 ".concat(w),f),Object(u.a)(r,"1 ".concat(I),p),Object(u.a)(r,"2 ".concat(I),O),Object(u.a)(r,"3 ".concat(I),x),Object(u.a)(r,"4 ".concat(I),g),Object(u.a)(r,"5 ".concat(I),d),Object(u.a)(r,"6 ".concat(I),m),r),N=[[{playerOnTurn:w,movesLeft:4,winner:null,board:Object(l.a)(Array(8).keys()).map((function(e){switch(e){case 0:return C.map((function(e){return e.concat(I)}));case 7:return C.map((function(e){return e.concat(w)}));case 1:return T.map((function(e){return e.concat(I)}));case 6:return T.map((function(e){return e.concat(w)}));default:return Object(l.a)(Array(8).keys()).map((function(){return[null]}))}}))}]],k=Object(o.memo)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getNeighbours,n=e.getIsFrozen,r=e.getValidClicks,o=e.selectedPositions,a=e.setSelectedPositions,i=e.history,u=e.currentMove,b=e.currentTurn,d=e.setCurrentMove,j=e.setHistory,O=i[b][u],f=O.playerOnTurn,m=O.movesLeft,v=O.winner,g=O.board,h=Object(s.a)(o,2),p=Object(s.a)(h[0],2),y=p[0],x=p[1],C=Object(s.a)(h[1],2),T=C[0],N=C[1],k=f===w?I:w,M=function(e){for(var n=e.board,r=e.rowIdx,c=e.colIdx,o=[[[2,2],n[2][2][1]],[[2,5],n[2][5][1]],[[5,2],n[5][2][1]],[[5,5],n[5][5][1]]],i=function(e){var r=Object(s.a)(o[e],2),c=Object(s.a)(r[0],2),a=c[0],i=c[1],u=r[1];if("string"!==typeof u)return"continue";t({rowIdx:a,colIdx:i,board:n}).every((function(e){var t=Object(s.a)(e,2),n=(t[0],Object(s.a)(t[1],2));n[0];return n[1]!==u}))&&(n[a][i]=[null])},u=0;u<o.length;u++)i(u);null===Object(s.a)(n[r][c],1)[0]&&a([[],[]])},F=function(e){var c=e.rowIdx,O=e.colIdx;return function(){var e=Object(s.a)(g[c][O],2),h=e[0],p=e[1];if(null!==h&&p===f&&(b>1||0===o[0].length))a([[c,O],[]]);else if(2===o[0].length){var w=i.map((function(e){return e.map((function(e){return Object.assign({},e)}))})),I=g.map((function(e){return Object(l.a)(e)}));if(b<2&&null!==h&&p===f)return I[c][O]=g[y][x],I[y][x]=g[c][O],a([[],[]]),w[b]=w[b].slice(0,u+1).concat({playerOnTurn:f,movesLeft:m,winner:v,board:I}),d(u+1),void j(w);var C=Object(s.a)(g[y][x],2),S=C[0],F=C[1],P=t({rowIdx:y,colIdx:x,board:g}),H=t({rowIdx:T,colIdx:N,board:g}),L=n({neighbours:P,playerOnTurn:f,enemy:k,ownSelFigure:S}),E=r({neighbours:P.concat(H),ownSelFigure:S,ownSelOwner:F,enemy:k,movesLeft:m}).some((function(e){var t=Object(s.a)(e,1),n=Object(s.a)(t[0],2),r=n[0],o=n[1];return r===c&&o===O}));if(b>1&&m>0&&!L&&E){if(p===k)return void a([[y,x],[c,O]]);2===o[1].length?P.some((function(e){var t=Object(s.a)(e,1),n=Object(s.a)(t[0],2),r=n[0],o=n[1];return r===c&&o===O}))?(I[c][O]=g[y][x],I[y][x]=g[T][N],I[T][N]=[null],a([[c,O],[]])):(I[c][O]=g[T][N],I[T][N]=g[y][x],I[y][x]=[null],a([[T,N],[]])):(I[c][O]=g[y][x],I[y][x]=[null],a([[c,O],[]])),M({board:I,rowIdx:c,colIdx:O}),w[b]=w[b].slice(0,u+1).concat({playerOnTurn:f,winner:v,board:I,movesLeft:2===o[1].length?m-2:m-1}),d(u+1),j(w)}}}};return Object(c.jsx)("div",{className:"board",children:g.map((function(e,t){return Object(c.jsx)("div",{className:"row",children:e.map((function(e,n){var r="cell";return"string"===typeof e[1]&&(r+=" ".concat(e[1])),[2,5].includes(t)&&[2,5].includes(n)&&(r+=" trap"),t===y&&n===x&&(r+=" own-selected"),t===T&&n===N&&(r+=" enemy-selected"),Object(c.jsx)("button",{className:r,onClick:F({rowIdx:t,colIdx:n}),disabled:"string"===typeof v,children:null!==e[0]?Object(c.jsx)("img",{src:S["".concat(e[0]," ").concat(e[1])],alt:e[0]}):null},"".concat(t).concat(n))}))},t)}))})})),M=Object(o.memo)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.history,n=e.currentTurn,r=e.currentMove,o=t[n][r],a=o.playerOnTurn,i=o.movesLeft,s=o.winner;return Object(c.jsx)("div",{className:"board-info",children:n<2?"Rearrange figures for ".concat(a):"string"===typeof s?"Winner is ".concat(s.toUpperCase(),"!"):"Moves left for ".concat(a,": ").concat(i)})})),F=Object(o.memo)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.setCurrentMove,n=e.setSelectedPositions,r=e.currentTurn,o=e.history,a=function(e){return function(){t(e),n([[],[]])}};return Object(c.jsx)(c.Fragment,{children:r<2?null:Object(c.jsxs)("div",{className:"history-moves",children:[Object(c.jsx)("h3",{children:"Change to a move"}),o[r].map((function(e,t){return Object(c.jsx)("button",{onClick:a(t),children:"Go to move: ".concat(t)},t)}))]})})})),P=Object(o.memo)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.setCurrentTurn,n=e.setCurrentMove,r=e.setSelectedPositions,o=e.isHistoryEnabled,a=e.history,i=function(e){return function(){t(e),n(a[e].length-1),r([[],[]])}};return Object(c.jsx)(c.Fragment,{children:o?Object(c.jsxs)("div",{className:"history-turns",children:[Object(c.jsx)("h3",{children:"Change to a turn"}),Object(c.jsx)("ul",{children:a.map((function(e,t){var n=e[0].playerOnTurn.replace(/^./,(function(e){return e.toUpperCase()}));return Object(c.jsx)("li",{children:Object(c.jsx)("button",{onClick:i(t),children:"".concat(n," turn: ").concat(t+1)})},t)}))})]}):null})})),H=Object(o.memo)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getNeighbours,n=e.getIsFrozen,r=e.getValidClicks,o=e.setIsHistoryEnabled,a=e.isHistoryEnabled,i=e.setSelectedPositions,u=e.setCurrentTurn,l=e.setCurrentMove,b=e.setHistory,d=e.history,j=e.currentTurn,O=e.currentMove,f=d[j][O],m=f.playerOnTurn,v=f.movesLeft,g=f.winner,h=f.board,p=m===w?I:w,y=function(e){var c=e.board;if(c[0].some((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return 1===n&&r===w})))return w;if(c[7].some((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return 1===n&&r===I})))return I;for(var o=!1,a=!1,i=[],u=0;u<c.length;u++)for(var l=0;l<c[u].length;l++){var b=Object(s.a)(c[u][l],2),d=b[0],j=b[1];null!==d&&i.push([[u,l],[d,j]]),1===d&&(j===w?o=!0:a=!0)}if(!a)return w;if(!o)return I;var O=!1,f=!1;return i.some((function(e){var o=Object(s.a)(e,2),a=Object(s.a)(o[0],2),i=a[0],u=a[1],l=Object(s.a)(o[1],2),b=l[0],d=l[1],j=t({rowIdx:i,colIdx:u,board:c}),g=j.reduce((function(e,n){var r=Object(s.a)(n,2),o=Object(s.a)(r[0],2),a=o[0],i=o[1],u=Object(s.a)(r[1],2),l=u[0],j=[n];return u[1]!==d&&l<b&&(j=j.concat(t({rowIdx:a,colIdx:i,board:c}))),e.concat(j)}),[]),h=n({neighbours:j,ownSelFigure:b,playerOnTurn:m,enemy:p}),y=r({neighbours:g,ownSelFigure:b,ownSelOwner:d,enemy:p,movesLeft:v});return!h&&y.length>0&&(d===w?O=!0:f=!0),O&&f})),f?O?null:I:w},x=function(){o(!a)},C=function(){window.confirm("Are you sure you want to start a new game?")&&(i([[],[]]),u(0),l(0),b(N))},T=function(e){var t=e.boardA,n=e.boardB;return t.every((function(e,t){return e.every((function(e,r){var c=Object(s.a)(e,2),o=c[0],a=c[1],i=Object(s.a)(n[t][r],2),u=i[0],l=i[1];return o===u&&a===l}))}))},S=function(){var e=d.map((function(e){return e.map((function(e){return Object.assign({},e)}))})),t=m===w?I:w,n=e[j],r=e[j-2];j>1&&T({boardA:n[0].board,boardB:n[n.length-1].board})?alert("Please make a difference to the board! The turn you made is invalid!"):j>3&&T({boardA:r[r.length-1].board,boardB:n[n.length-1].board})?alert("Please make a different turn, than returning to the previous board state!"):(u(j+1),l(0),i([[],[]]),e[j]=e[j].slice(0,O+1),b(e.slice(0,j+1).concat([[{playerOnTurn:t,movesLeft:4,winner:y({board:h}),board:h}]])))};return Object(c.jsxs)("div",{className:"options",children:[Object(c.jsx)("button",{className:"options-button",onClick:S,disabled:j>1&&4===v||"string"===typeof g,children:"End Turn"}),Object(c.jsx)("button",{className:"options-button",onClick:x,children:a?"Hide history":"Show history"}),Object(c.jsx)("button",{className:"options-button",onClick:C,children:"New Game"})]})})),L=Object(o.memo)((function(){var e=Object(o.useState)(!0),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)([[],[]]),i=Object(s.a)(a,2),u=i[0],l=i[1],b=Object(o.useState)(0),d=Object(s.a)(b,2),j=d[0],O=d[1],f=Object(o.useState)(0),m=Object(s.a)(f,2),v=m[0],g=m[1],h=Object(o.useState)(N),p=Object(s.a)(h,2),y=p[0],x=p[1],C=function(e){var t=e.rowIdx,n=e.colIdx,r=e.board;return[t>0?[[t-1,n],r[t-1][n],"top"]:void 0,t<7?[[t+1,n],r[t+1][n],"bottom"]:void 0,n>0?[[t,n-1],r[t][n-1],"left"]:void 0,n<7?[[t,n+1],r[t][n+1],"right"]:void 0].filter((function(e){return void 0!==e}))},T=function(e){var t=e.neighbours,n=e.ownSelFigure,r=e.playerOnTurn,c=e.enemy;return t.every((function(e){var t=Object(s.a)(e,2),n=(t[0],Object(s.a)(t[1],2));n[0];return n[1]!==r}))&&t.some((function(e){var t=Object(s.a)(e,2),r=(t[0],Object(s.a)(t[1],2)),o=r[0],a=r[1];return o>n&&a===c}))},S=function(e){var t=e.neighbours,n=e.ownSelFigure,r=e.ownSelOwner,c=e.enemy,o=e.movesLeft;return 1===n&&(t=t.filter((function(e){return!("top"===e[2]&&1===n&&r===I)&&!("bottom"===e[2]&&1===n&&r===w)}))),t.filter((function(e){var t=Object(s.a)(e,2),r=Object(s.a)(t[0],2),a=(r[0],r[1],Object(s.a)(t[1],2)),i=a[0],u=a[1];return null===i||u===c&&i<n&&o>1}))};return Object(c.jsxs)("div",{className:"game",children:[Object(c.jsxs)("div",{className:"playfield",children:[Object(c.jsx)(M,{history:y,currentTurn:j,currentMove:v}),Object(c.jsx)(k,{getNeighbours:C,getIsFrozen:T,getValidClicks:S,selectedPositions:u,setSelectedPositions:l,history:y,currentTurn:j,currentMove:v,setCurrentMove:g,setHistory:x})]}),Object(c.jsxs)("div",{className:"game-info",children:[Object(c.jsx)(H,{getNeighbours:C,getIsFrozen:T,getValidClicks:S,setIsHistoryEnabled:r,isHistoryEnabled:n,setSelectedPositions:l,setCurrentTurn:O,setCurrentMove:g,setHistory:x,history:y,currentTurn:j,currentMove:v}),Object(c.jsx)(F,{setCurrentMove:g,setSelectedPositions:l,currentTurn:j,history:y}),Object(c.jsx)(P,{setCurrentTurn:O,setCurrentMove:g,setSelectedPositions:l,isHistoryEnabled:n,history:y})]})]})}));Object(i.render)(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(L,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.fa0542f5.chunk.js.map